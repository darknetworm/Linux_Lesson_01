# Linux_Lesson_01
## Linux begining
### Описание репозитория
Лабораторный работа по созданию собственного образа для vagrant, обновлению ядра и загрузки созданного образа в Vagrant cloud.  
- **Vagrantfile** - создает виртуальную машину, использующую созданный образ GNU/Linux.
- директория **/packer** содержит необходимые данные для создания собственного образа для использования в настройке виртуальных машин с помощью vagrant:
  - **centos.json** - файл с описанием всех шагов создания образа на основе файла *"CentOS-Stream-8-20231016.0-x86_64-boot.iso"* опубликованного на официальном сайте;
  - директория **/http** содержит файл **ks.cfg** автоматической конфигурации создаваемого образа ОС;
  - в директории **/scripts** располагаются файлы со скриптами для окончательного конфигурирования создаваемого образа: **stage-1-kernel-update.sh** - обновление ядра ОС до последней версии, **stage-2-clean.sh** - удаление ненужных файлов и пакетов.
 
---
### Выполнение лабораторной работы
Создаем виртуальную машину на основании скачанного с официального сайта ISO-образа *"CentOS-Stream-8-20231016.0-x86_64-boot.iso"*. Проверяем текущую версию ядра.  
![kernel_old](https://github.com/darknetworm/Linux_Lesson_01/assets/82410807/617d6bd5-a6ad-4fcf-8fd3-f4d69526732e)  
Из директории **/packer** запускаем процесс создания собственного образа для vagrant, после завершения работы утилиты проверяем наличие созданного образа *"centos-8-kernel-6-x86_64-Minimal.box"* и добавляем его в систему vagrant.  
![box](https://github.com/darknetworm/Linux_Lesson_01/assets/82410807/62664c47-31f2-4a32-a1ff-5e361ae845e3)  
Запускаем создание виртуальной машины с помощью vagrant, использующую созданный образ и, подключившись по ssh, проверяем версию ядра виртуальной машины.  
![kernel_new](https://github.com/darknetworm/Linux_Lesson_01/assets/82410807/553aa84b-25d5-43de-8049-e4bbeed44421)  
После проведения всех проверок загружаем созданный образ в Vagrant cloud, используя личную учетную запись.  
[centos8-kernel6](https://app.vagrantup.com/darknetworm/boxes/centos8-kernel6)
